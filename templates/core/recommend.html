{% extends 'partials/base.html' %}
{% load static %}

{% block content %}
<html data-theme="light"> 

<head>
  <title>kyim. - recommended</title>
  <link rel="stylesheet" href="{% static 'assets/css/search.css' %}">
</head>
<body>
  
        <h1 style="margin-top: 100px; margin-left: 80px;">Recommended Products</h1>
        {% if recommended_products %}
        <p style="margin-top: 10px; margin-left: 80px;">There are {{ count }} recommendations you might like:</p>
        <ul>
          <div class="gen">
            <div class="prod">
              <div class="prod_box" id="filtered-product"> <!-- js call -->
                  {% for p in recommended_products %}
                  <div class="pic">
                    <div class="imageholder">
                      <a href="{% url 'core:product-detail' p.pid %}">
                        <img src="{{ p.image.url }}" alt="" class="imgpic">
                      </a>
                      <div class="divis">
                        <div class = "add-cart">
                          <input type = "hidden" value = "1" id = "product-quantity" class = "product-quantity-{{ p.id }}">
                          <input type = "hidden" class = "product-pid-{{ p.id }}" value = "{{ p.pid }}">
                          <input type = "hidden" class = "product-image-{{ p.id }}" value = "{{ p.image.url }}">
                          <input type = "hidden" class = "product-id-{{ p.id }}" value = "{{ p.id }}">
                          <input type = "hidden" class = "product-title-{{ p.id }}" value = "{{ p.title }}">
                          <button class = "add add-to-cart-btn" data-index = "{{ p.id }}" id = "add-to-cart-btn"><i class="fa-solid fa-cart-shopping"></i></i></button>
                          <!-- <button class = "button add-to-wishlist" data-product-item = "{{ p.id }}"><i class="fa-regular fa-heart"></i></button> -->
                        </div>
                        <div class="add-wishlist">
                          <button class = "button add-to-wishlist" data-product-item = "{{ p.id }}"><i class="fa-regular fa-heart"></i></button>
                        </div>
                      </div>
                      </img>
                      <div class="cat">
                        <p class="p_text">{{ p.category.title }}</p> 
                        <h1><a href="{% url 'core:product-detail' p.pid %}" class="p_text p2_text">{{ p.title }}</a></h2>
                        <p class="p_text">{{ p.vendor.title }}</p>
                        <span class="p_text">$<p class="p_text product-current-price-{{ p.id }}">{{ p.price }}</p></span>
                      </div>
                    </div>
                  </div>
                  {% endfor %}
              </div>
            </div>
          </div>
        </ul>
        {% else %}
        <p style="margin-top: 10px; margin-left: 80px;">No recommendations available. We don't know your prefernce yet</p>
        {% endif %}
  
</body>
<script src="{% static 'assets/js/recommended.js' %}"></script>
{% endblock content %}
</body>
<script src="{% static 'assets/js/base.js' %}"></script>


</html>